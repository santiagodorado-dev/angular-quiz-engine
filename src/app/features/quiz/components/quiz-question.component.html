<div class="quiz-container" *ngIf="currentQuestion">
  <div class="quiz-header">
    <span class="category">{{ currentQuestion.category }}</span>
    <span class="question-number">Pregunta {{ currentIndex + 1 }} de {{ totalQuestions }}</span>
  </div>

  <div class="progress-bar">
    <div class="progress" [style.width.%]="progress"></div>
  </div>

  <div class="question-card">
    <h2 class="question-text">{{ currentQuestion.text }}</h2>

    <div class="options-container">
      <button
        *ngFor="let option of currentQuestion.options"
        class="option-button"
        [class.selected]="selectedAnswer === option"
        [class.correct]="showFeedback && option === currentQuestion.correctAnswer"
        [class.incorrect]="showFeedback && selectedAnswer === option && option !== currentQuestion.correctAnswer"
        [disabled]="showFeedback"
        (click)="selectAnswer(option)"
      >
        {{ option }}
      </button>
    </div>

    <div class="feedback" *ngIf="showFeedback">
      <p [class.correct]="isCorrect" [class.incorrect]="!isCorrect">
        {{ isCorrect ? 'Â¡Correcto!' : 'Incorrecto. La respuesta correcta es: ' + currentQuestion.correctAnswer }}
      </p>
    </div>

    <div class="navigation">
      <button
        class="next-button"
        *ngIf="showFeedback"
        (click)="nextQuestion()"
      >
        {{ isLastQuestion ? 'Ver resultados' : 'Siguiente pregunta' }}
      </button>
    </div>
  </div>
</div>

<div class="loading-container" *ngIf="!currentQuestion">
  <div class="loading-spinner"></div>
  <p>Cargando pregunta...</p>
</div> 